<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MongoDB Cheat Sheet #1 - Ki·∫øn Tr√∫c & Kh√°i Ni·ªám C∆° B·∫£n</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      color: #fff;
      min-height: 100vh;
      padding: 20px;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    .header {
      text-align: center;
      margin-bottom: 30px;
      padding: 20px;
      background: linear-gradient(135deg, #00d956 0%, #0abde3 100%);
      border-radius: 15px;
    }
    .header h1 {
      font-size: 2em;
      margin-bottom: 10px;
      color: #1a1a2e;
    }
    .header .subtitle {
      color: #1a1a2e;
      font-size: 1.1em;
      opacity: 0.9;
    }
    .badge {
      display: inline-block;
      background: #1a1a2e;
      color: #00d956;
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 0.85em;
      margin-top: 10px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }
    .card {
      background: rgba(255,255,255,0.05);
      border-radius: 15px;
      padding: 20px;
      border: 1px solid rgba(255,255,255,0.1);
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0,217,86,0.2);
    }
    .card-header {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 2px solid #00d956;
    }
    .card-icon {
      font-size: 1.8em;
      margin-right: 12px;
    }
    .card-title {
      font-size: 1.3em;
      color: #00d956;
    }
    .comparison-table {
      width: 100%;
      border-collapse: collapse;
      margin: 10px 0;
    }
    .comparison-table th, .comparison-table td {
      padding: 10px;
      text-align: left;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    .comparison-table th {
      background: rgba(0,217,86,0.2);
      color: #00d956;
    }
    .comparison-table tr:hover {
      background: rgba(255,255,255,0.05);
    }
    .code-block {
      background: #0d1117;
      border-radius: 8px;
      padding: 15px;
      margin: 10px 0;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 0.9em;
      overflow-x: auto;
      border-left: 3px solid #00d956;
    }
    .code-comment {
      color: #6a737d;
    }
    .code-keyword {
      color: #ff7b72;
    }
    .code-string {
      color: #a5d6ff;
    }
    .code-method {
      color: #d2a8ff;
    }
    .code-number {
      color: #79c0ff;
    }
    .highlight {
      background: linear-gradient(135deg, rgba(0,217,86,0.2), rgba(10,189,227,0.2));
      padding: 15px;
      border-radius: 10px;
      margin: 10px 0;
    }
    .list-item {
      padding: 8px 0;
      padding-left: 20px;
      position: relative;
    }
    .list-item::before {
      content: "‚ñ∏";
      position: absolute;
      left: 0;
      color: #00d956;
    }
    .tag {
      display: inline-block;
      background: rgba(0,217,86,0.2);
      color: #00d956;
      padding: 3px 10px;
      border-radius: 5px;
      font-size: 0.8em;
      margin: 2px;
    }
    .tag-blue {
      background: rgba(10,189,227,0.2);
      color: #0abde3;
    }
    .tag-orange {
      background: rgba(255,159,67,0.2);
      color: #ff9f43;
    }
    .tag-purple {
      background: rgba(156,136,255,0.2);
      color: #9c88ff;
    }
    .architecture-diagram {
      background: #0d1117;
      border-radius: 10px;
      padding: 20px;
      text-align: center;
      margin: 15px 0;
    }
    .arch-box {
      display: inline-block;
      background: linear-gradient(135deg, #00d956, #0abde3);
      color: #1a1a2e;
      padding: 10px 20px;
      border-radius: 8px;
      margin: 5px;
      font-weight: bold;
    }
    .arch-arrow {
      color: #00d956;
      font-size: 1.5em;
      margin: 0 10px;
    }
    .full-width {
      grid-column: 1 / -1;
    }
    .flex-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: 10px 0;
    }
    .info-box {
      background: rgba(10,189,227,0.1);
      border-left: 3px solid #0abde3;
      padding: 12px;
      border-radius: 0 8px 8px 0;
      margin: 10px 0;
    }
    .warning-box {
      background: rgba(255,159,67,0.1);
      border-left: 3px solid #ff9f43;
      padding: 12px;
      border-radius: 0 8px 8px 0;
      margin: 10px 0;
    }
    .footer {
      text-align: center;
      padding: 20px;
      color: rgba(255,255,255,0.5);
      font-size: 0.9em;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>üçÉ MongoDB Cheat Sheet #1</h1>
      <div class="subtitle">Ki·∫øn Tr√∫c & Kh√°i Ni·ªám C∆° B·∫£n</div>
      <div class="badge">üìö Beginner Friendly</div>
    </div>

    <!-- So s√°nh MongoDB vs SQL -->
    <div class="grid">
      <div class="card full-width">
        <div class="card-header">
          <span class="card-icon">üîÑ</span>
          <span class="card-title">So S√°nh: MongoDB vs SQL Database</span>
        </div>
        <table class="comparison-table">
          <tr>
            <th>SQL (Relational)</th>
            <th>MongoDB (NoSQL)</th>
            <th>M√¥ t·∫£</th>
          </tr>
          <tr>
            <td>Database</td>
            <td><strong>Database</strong></td>
            <td>Container ch·ª©a collections</td>
          </tr>
          <tr>
            <td>Table</td>
            <td><strong>Collection</strong></td>
            <td>Nh√≥m c√°c documents</td>
          </tr>
          <tr>
            <td>Row</td>
            <td><strong>Document</strong></td>
            <td>M·ªôt b·∫£n ghi d·ªØ li·ªáu (JSON/BSON)</td>
          </tr>
          <tr>
            <td>Column</td>
            <td><strong>Field</strong></td>
            <td>M·ªôt thu·ªôc t√≠nh trong document</td>
          </tr>
          <tr>
            <td>Primary Key</td>
            <td><strong>_id</strong></td>
            <td>ƒê·ªãnh danh duy nh·∫•t (auto-generated)</td>
          </tr>
          <tr>
            <td>Foreign Key</td>
            <td><strong>Reference / $lookup</strong></td>
            <td>Li√™n k·∫øt gi·ªØa collections</td>
          </tr>
          <tr>
            <td>JOIN</td>
            <td><strong>$lookup / Embedded</strong></td>
            <td>K·∫øt h·ª£p d·ªØ li·ªáu t·ª´ nhi·ªÅu ngu·ªìn</td>
          </tr>
          <tr>
            <td>Schema (Fixed)</td>
            <td><strong>Schema (Flexible)</strong></td>
            <td>MongoDB cho ph√©p schema linh ho·∫°t</td>
          </tr>
        </table>
      </div>
    </div>

    <!-- C·∫•u tr√∫c ph√¢n c·∫•p -->
    <div class="grid">
      <div class="card">
        <div class="card-header">
          <span class="card-icon">üèóÔ∏è</span>
          <span class="card-title">C·∫•u Tr√∫c Ph√¢n C·∫•p</span>
        </div>
        <div class="architecture-diagram">
          <div class="arch-box">MongoDB Server</div>
          <div style="margin: 10px 0;">‚¨áÔ∏è</div>
          <div class="arch-box">Database(s)</div>
          <div style="margin: 10px 0;">‚¨áÔ∏è</div>
          <div class="arch-box">Collection(s)</div>
          <div style="margin: 10px 0;">‚¨áÔ∏è</div>
          <div class="arch-box">Document(s)</div>
          <div style="margin: 10px 0;">‚¨áÔ∏è</div>
          <div class="arch-box">Field(s)</div>
        </div>
        <div class="info-box">
          üí° M·ªôt MongoDB server c√≥ th·ªÉ ch·ª©a nhi·ªÅu databases, m·ªói database ch·ª©a nhi·ªÅu collections, m·ªói collection ch·ª©a nhi·ªÅu documents.
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <span class="card-icon">üìÑ</span>
          <span class="card-title">Document (BSON)</span>
        </div>
        <div class="code-block">
          <span class="code-comment">// V√≠ d·ª• m·ªôt Document</span><br>
          {<br>
          &nbsp;&nbsp;<span class="code-string">"_id"</span>: <span class="code-method">ObjectId</span>(<span class="code-string">"507f1f77bcf86cd799439011"</span>),<br>
          &nbsp;&nbsp;<span class="code-string">"name"</span>: <span class="code-string">"Nguy·ªÖn VƒÉn A"</span>,<br>
          &nbsp;&nbsp;<span class="code-string">"age"</span>: <span class="code-number">25</span>,<br>
          &nbsp;&nbsp;<span class="code-string">"email"</span>: <span class="code-string">"a@example.com"</span>,<br>
          &nbsp;&nbsp;<span class="code-string">"skills"</span>: [<span class="code-string">"Python"</span>, <span class="code-string">"MongoDB"</span>],<br>
          &nbsp;&nbsp;<span class="code-string">"address"</span>: {<br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-string">"city"</span>: <span class="code-string">"H√† N·ªôi"</span>,<br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-string">"zip"</span>: <span class="code-string">"100000"</span><br>
          &nbsp;&nbsp;}<br>
          }
        </div>
        <div class="flex-row">
          <span class="tag">JSON-like</span>
          <span class="tag-blue tag">Binary JSON</span>
          <span class="tag-orange tag">Max 16MB</span>
        </div>
      </div>
    </div>

    <!-- _id v√† ObjectId -->
    <div class="grid">
      <div class="card">
        <div class="card-header">
          <span class="card-icon">üîë</span>
          <span class="card-title">_id & ObjectId</span>
        </div>
        <div class="highlight">
          <strong>_id</strong> l√† primary key m·∫∑c ƒë·ªãnh, t·ª± ƒë·ªông t·∫°o n·∫øu kh√¥ng ch·ªâ ƒë·ªãnh
        </div>
        <div class="code-block">
          <span class="code-comment">// C·∫•u tr√∫c ObjectId (12 bytes)</span><br>
          ObjectId(<span class="code-string">"507f1f77bcf86cd799439011"</span>)<br><br>
          <span class="code-comment">// Ph√¢n t√≠ch:</span><br>
          <span class="code-string">"507f1f77"</span> ‚Üí Timestamp (4 bytes)<br>
          <span class="code-string">"bcf86c"</span>&nbsp;&nbsp; ‚Üí Machine ID (3 bytes)<br>
          <span class="code-string">"d799"</span>&nbsp;&nbsp;&nbsp;&nbsp; ‚Üí Process ID (2 bytes)<br>
          <span class="code-string">"439011"</span>&nbsp;&nbsp; ‚Üí Counter (3 bytes)
        </div>
        <div class="code-block">
          <span class="code-comment">// L·∫•y timestamp t·ª´ ObjectId</span><br>
          <span class="code-method">ObjectId</span>(<span class="code-string">"507f1f77bcf86cd799439011"</span>).<span class="code-method">getTimestamp</span>()
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <span class="card-icon">üì¶</span>
          <span class="card-title">Collection</span>
        </div>
        <div class="list-item"><strong>Kh√¥ng c·∫ßn ƒë·ªãnh nghƒ©a tr∆∞·ªõc</strong> - t·ª± ƒë·ªông t·∫°o khi insert</div>
        <div class="list-item"><strong>Schema-less</strong> - documents c√≥ th·ªÉ kh√°c c·∫•u tr√∫c</div>
        <div class="list-item"><strong>Naming rules:</strong> kh√¥ng ch·ª©a $, null, kh√¥ng b·∫Øt ƒë·∫ßu b·∫±ng system.</div>
        
        <div class="code-block">
          <span class="code-comment">// T·∫°o collection t∆∞·ªùng minh</span><br>
          db.<span class="code-method">createCollection</span>(<span class="code-string">"users"</span>)<br><br>
          <span class="code-comment">// T·∫°o ng·∫ßm ƒë·ªãnh khi insert</span><br>
          db.users.<span class="code-method">insertOne</span>({name: <span class="code-string">"John"</span>})<br><br>
          <span class="code-comment">// Xem t·∫•t c·∫£ collections</span><br>
          <span class="code-keyword">show</span> collections<br>
          db.<span class="code-method">getCollectionNames</span>()
        </div>
      </div>
    </div>

    <!-- Replica Set & Sharding -->
    <div class="grid">
      <div class="card">
        <div class="card-header">
          <span class="card-icon">üîÑ</span>
          <span class="card-title">Replica Set (High Availability)</span>
        </div>
        <div class="architecture-diagram">
          <div class="arch-box">Primary</div>
          <span class="arch-arrow">‚ÜîÔ∏è</span>
          <div class="arch-box">Secondary</div>
          <span class="arch-arrow">‚ÜîÔ∏è</span>
          <div class="arch-box">Secondary</div>
        </div>
        <div class="list-item"><strong>Primary:</strong> Nh·∫≠n t·∫•t c·∫£ write operations</div>
        <div class="list-item"><strong>Secondary:</strong> Replicate data t·ª´ Primary, c√≥ th·ªÉ ƒë·ªçc</div>
        <div class="list-item"><strong>Arbiter:</strong> Ch·ªâ vote, kh√¥ng ch·ª©a data</div>
        <div class="list-item"><strong>Auto Failover:</strong> T·ª± ƒë·ªông b·∫ßu Primary m·ªõi</div>
        <div class="info-box">
          üí° T·ªëi thi·ªÉu 3 nodes ƒë·ªÉ ƒë·∫£m b·∫£o quorum (ƒëa s·ªë phi·∫øu)
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <span class="card-icon">üìä</span>
          <span class="card-title">Sharding (Horizontal Scaling)</span>
        </div>
        <div class="architecture-diagram">
          <div class="arch-box">mongos (Router)</div>
          <div style="margin: 10px 0;">‚¨áÔ∏è</div>
          <div class="arch-box">Config Servers</div>
          <div style="margin: 10px 0;">‚¨áÔ∏è</div>
          <div style="display: flex; justify-content: center; gap: 10px; flex-wrap: wrap;">
            <div class="arch-box">Shard 1</div>
            <div class="arch-box">Shard 2</div>
            <div class="arch-box">Shard N</div>
          </div>
        </div>
        <div class="list-item"><strong>Shard Key:</strong> Field ƒë·ªÉ ph√¢n ph·ªëi data</div>
        <div class="list-item"><strong>Chunks:</strong> Ph·∫ßn data ƒë∆∞·ª£c chia nh·ªè</div>
        <div class="list-item"><strong>Balancer:</strong> T·ª± ƒë·ªông c√¢n b·∫±ng chunks</div>
        <div class="warning-box">
          ‚ö†Ô∏è Ch·ªçn shard key c·∫©n th·∫≠n - kh√¥ng th·ªÉ thay ƒë·ªïi sau khi sharding!
        </div>
      </div>
    </div>

    <!-- MongoDB Atlas & Commands c∆° b·∫£n -->
    <div class="grid">
      <div class="card">
        <div class="card-header">
          <span class="card-icon">‚òÅÔ∏è</span>
          <span class="card-title">MongoDB Atlas (Cloud)</span>
        </div>
        <div class="highlight">
          Database-as-a-Service (DBaaS) c·ªßa MongoDB
        </div>
        <div class="list-item"><strong>Free Tier:</strong> 512MB storage mi·ªÖn ph√≠</div>
        <div class="list-item"><strong>Auto Scaling:</strong> T·ª± ƒë·ªông m·ªü r·ªông</div>
        <div class="list-item"><strong>Global Clusters:</strong> Multi-region deployment</div>
        <div class="list-item"><strong>Backup:</strong> Automated backups</div>
        <div class="list-item"><strong>Monitoring:</strong> Real-time metrics</div>
        <div class="list-item"><strong>Security:</strong> Encryption, VPC Peering</div>
        <div class="code-block">
          <span class="code-comment">// Connection String (Atlas)</span><br>
          mongodb+srv://<span class="code-string">&lt;user&gt;</span>:<span class="code-string">&lt;pass&gt;</span>@cluster0.xxxxx.mongodb.net/<span class="code-string">&lt;dbname&gt;</span>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <span class="card-icon">‚å®Ô∏è</span>
          <span class="card-title">Commands C∆° B·∫£n</span>
        </div>
        <div class="code-block">
          <span class="code-comment">// K·∫øt n·ªëi MongoDB</span><br>
          mongosh <span class="code-string">"mongodb://localhost:27017"</span><br><br>
          
          <span class="code-comment">// Xem databases</span><br>
          <span class="code-keyword">show</span> dbs<br><br>
          
          <span class="code-comment">// Ch·ªçn/T·∫°o database</span><br>
          <span class="code-keyword">use</span> myDatabase<br><br>
          
          <span class="code-comment">// Xem database hi·ªán t·∫°i</span><br>
          db<br><br>
          
          <span class="code-comment">// Xem collections</span><br>
          <span class="code-keyword">show</span> collections<br><br>
          
          <span class="code-comment">// Th·ªëng k√™ database</span><br>
          db.<span class="code-method">stats</span>()<br><br>
          
          <span class="code-comment">// X√≥a database</span><br>
          db.<span class="code-method">dropDatabase</span>()
        </div>
      </div>
    </div>

    <!-- BSON Data Types Preview -->
    <div class="grid">
      <div class="card full-width">
        <div class="card-header">
          <span class="card-icon">üìã</span>
          <span class="card-title">BSON vs JSON</span>
        </div>
        <table class="comparison-table">
          <tr>
            <th>ƒê·∫∑c ƒëi·ªÉm</th>
            <th>JSON</th>
            <th>BSON</th>
          </tr>
          <tr>
            <td>ƒê·ªãnh d·∫°ng</td>
            <td>Text-based</td>
            <td>Binary</td>
          </tr>
          <tr>
            <td>T·ªëc ƒë·ªô parse</td>
            <td>Ch·∫≠m h∆°n</td>
            <td>Nhanh h∆°n</td>
          </tr>
          <tr>
            <td>K√≠ch th∆∞·ªõc</td>
            <td>Nh·ªè h∆°n (text)</td>
            <td>L·ªõn h∆°n (metadata)</td>
          </tr>
          <tr>
            <td>Data types</td>
            <td>6 types c∆° b·∫£n</td>
            <td>18+ types (Date, ObjectId, Binary...)</td>
          </tr>
          <tr>
            <td>Traversal</td>
            <td>Ph·∫£i parse to√†n b·ªô</td>
            <td>C√≥ th·ªÉ skip fields</td>
          </tr>
        </table>
        <div class="flex-row" style="margin-top: 15px;">
          <span class="tag">String</span>
          <span class="tag">Int32/Int64</span>
          <span class="tag">Double</span>
          <span class="tag">Boolean</span>
          <span class="tag-blue tag">Date</span>
          <span class="tag-blue tag">ObjectId</span>
          <span class="tag-orange tag">Array</span>
          <span class="tag-orange tag">Object</span>
          <span class="tag-purple tag">Binary</span>
          <span class="tag-purple tag">Decimal128</span>
        </div>
      </div>
    </div>

    <!-- Quick Reference -->
    <div class="grid">
      <div class="card full-width">
        <div class="card-header">
          <span class="card-icon">‚ö°</span>
          <span class="card-title">Quick Reference - Khi N√†o D√πng MongoDB?</span>
        </div>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
          <div>
            <h4 style="color: #00d956; margin-bottom: 10px;">‚úÖ N√™n d√πng MongoDB</h4>
            <div class="list-item">Schema linh ho·∫°t, thay ƒë·ªïi th∆∞·ªùng xuy√™n</div>
            <div class="list-item">D·ªØ li·ªáu d·∫°ng document/JSON</div>
            <div class="list-item">C·∫ßn horizontal scaling</div>
            <div class="list-item">Real-time analytics</div>
            <div class="list-item">Content Management</div>
            <div class="list-item">IoT & Time-series data</div>
            <div class="list-item">Mobile app backends</div>
          </div>
          <div>
            <h4 style="color: #ff6b6b; margin-bottom: 10px;">‚ùå C√¢n nh·∫Øc k·ªπ khi</h4>
            <div class="list-item">C·∫ßn nhi·ªÅu JOINs ph·ª©c t·∫°p</div>
            <div class="list-item">ACID transactions quan tr·ªçng</div>
            <div class="list-item">D·ªØ li·ªáu c√≥ quan h·ªá ch·∫∑t ch·∫Ω</div>
            <div class="list-item">Reporting ph·ª©c t·∫°p</div>
            <div class="list-item">Legacy systems integration</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <p>üìö MongoDB Cheat Sheet Series | Part 1 of 16</p>
      <p></p>
    </div>
  </div>
</body>
</html>